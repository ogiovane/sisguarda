"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[701],{5701:(Q,m,n)=>{n.r(m),n.d(m,{CadastroMilitaresComponent:()=>O});var u=n(5861),r=n(95),d=n(6814),_=n(5835),c=n(7217),o=n(9212);function p(e,a){if(1&e&&(o.TgZ(0,"option",25),o._uU(1),o.qZA()),2&e){const t=a.$implicit;o.Q6J("value",t),o.xp6(),o.Oqu(t)}}function f(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Nome completo \xe9 obrigat\xf3rio."),o.qZA())}function g(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Apenas letras s\xe3o permitidas."),o.qZA())}function v(e,a){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,f,2,0,"div",27)(2,g,2,0,"div",27),o.qZA()),2&e){const t=o.oxw();o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("nome").errors.required),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("nome").errors.pattern)}}function C(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"RG \xe9 obrigat\xf3rio."),o.qZA())}function Z(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"RG deve ter no m\xe1ximo 6 n\xfameros."),o.qZA())}function T(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Somente n\xfameros s\xe3o permitidos."),o.qZA())}function A(e,a){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,C,2,0,"div",27)(2,Z,2,0,"div",27)(3,T,2,0,"div",27),o.qZA()),2&e){const t=o.oxw();o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("rg").errors.required),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("rg").errors.maxlength),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("rg").errors.pattern)}}function x(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"NF \xe9 obrigat\xf3rio."),o.qZA())}function F(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"NF deve ter no m\xe1ximo 10 n\xfameros."),o.qZA())}function E(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Somente n\xfameros s\xe3o permitidos."),o.qZA())}function I(e,a){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,x,2,0,"div",27)(2,F,2,0,"div",27)(3,E,2,0,"div",27),o.qZA()),2&e){const t=o.oxw();o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("nf").errors.required),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("nf").errors.maxlength),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("nf").errors.pattern)}}function q(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Celular \xe9 obrigat\xf3rio."),o.qZA())}function M(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Celular deve ter no m\xe1ximo 11 n\xfameros."),o.qZA())}function U(e,a){1&e&&(o.TgZ(0,"div"),o._uU(1,"Somente n\xfameros s\xe3o permitidos."),o.qZA())}function N(e,a){if(1&e&&(o.TgZ(0,"div",26),o.YNc(1,q,2,0,"div",27)(2,M,2,0,"div",27)(3,U,2,0,"div",27),o.qZA()),2&e){const t=o.oxw();o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("celular").errors.required),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("celular").errors.maxlength),o.xp6(),o.Q6J("ngIf",t.cadastroForm.get("celular").errors.pattern)}}function b(e,a){1&e&&(o.TgZ(0,"div",26),o._uU(1," Email inv\xe1lido. "),o.qZA())}function J(e,a){if(1&e&&(o.TgZ(0,"option",25),o._uU(1),o.qZA()),2&e){const t=a.$implicit;o.Q6J("value",t),o.xp6(),o.Oqu(t)}}function h(e,a){if(1&e&&(o.TgZ(0,"div",28),o._uU(1),o.qZA()),2&e){const t=o.oxw();o.xp6(),o.Oqu(t.errorMessage)}}let O=(()=>{class e{constructor(t){this.db=t,this.postos=["AL SD","SD","CB","3\xba SGT","2\xba SGT","1\xba SGT","SUBTEN","AL OF","ASP OF","TEN","CAP","MAJ","TEN-CEL","CEL"],this.lotacoes=["1\xaa Cia","2\xaa Cia","4\xaa Cia","5\xaa Cia","PCS","FT","Outros"],this.errorMessage="",this.cadastroForm=new r.cw({posto:new r.NI("",r.kI.required),nome:new r.NI("",[r.kI.required,r.kI.pattern(/^[a-zA-Z ]+$/)]),rg:new r.NI("",[r.kI.required,r.kI.maxLength(6),r.kI.pattern(/^\d+$/)]),nf:new r.NI("",[r.kI.required,r.kI.maxLength(10),r.kI.pattern(/^\d+$/)]),celular:new r.NI("",[r.kI.required,r.kI.maxLength(11),r.kI.pattern(/^\d+$/)]),email:new r.NI("",[r.kI.email]),lotacao:new r.NI("",r.kI.required)})}onSubmit(){var t=this;return(0,u.Z)(function*(){const s=t.cadastroForm.get("nf").value;try{t.db.collection("cadastros").doc(s).set(t.cadastroForm.value).then(()=>{t.cadastroForm.reset(),t.errorMessage=""}).catch(l=>{console.error(l),t.errorMessage="Erro ao salvar dados"})}catch(i){console.error(i),t.errorMessage="Erro ao salvar dados"}})()}static#o=this.\u0275fac=function(s){return new(s||e)(o.Y36(_.ST))};static#e=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-cadastro-militares"]],standalone:!0,features:[o.jDz],decls:47,vars:10,consts:[[1,"container","mt-5"],["novalidate","",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","posto",1,"form-label"],["id","posto","formControlName","posto",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","nome",1,"form-label"],["type","text","id","nome","formControlName","nome",1,"form-control"],["class","text-danger",4,"ngIf"],["for","rg",1,"form-label"],["type","text","id","rg","formControlName","rg",1,"form-control"],["for","nf",1,"form-label"],["type","text","id","nf","formControlName","nf",1,"form-control"],["for","celular",1,"form-label"],["type","text","id","celular","formControlName","celular",1,"form-control"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","lotacao",1,"form-label"],["id","lotacao","formControlName","lotacao",1,"form-select"],["class","error-message",4,"ngIf"],[1,"text-center"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["type","button",1,"btn","btn-danger",3,"click"],[3,"value"],[1,"text-danger"],[4,"ngIf"],[1,"error-message"]],template:function(s,i){1&s&&(o.TgZ(0,"div",0)(1,"form",1),o.NdJ("ngSubmit",function(){return i.onSubmit()}),o.TgZ(2,"div",2)(3,"label",3),o._uU(4,"Posto/Gradua\xe7\xe3o"),o.qZA(),o.TgZ(5,"select",4)(6,"option",5),o._uU(7,"Selecione um posto/gradua\xe7\xe3o"),o.qZA(),o.YNc(8,p,2,2,"option",6),o.qZA()(),o.TgZ(9,"div",2)(10,"label",7),o._uU(11,"Nome Completo"),o.qZA(),o._UZ(12,"input",8),o.YNc(13,v,3,2,"div",9),o.qZA(),o.TgZ(14,"div",2)(15,"label",10),o._uU(16,"RG"),o.qZA(),o._UZ(17,"input",11),o.YNc(18,A,4,3,"div",9),o.qZA(),o.TgZ(19,"div",2)(20,"label",12),o._uU(21,"NF"),o.qZA(),o._UZ(22,"input",13),o.YNc(23,I,4,3,"div",9),o.qZA(),o.TgZ(24,"div",2)(25,"label",14),o._uU(26,"Celular"),o.qZA(),o._UZ(27,"input",15),o.YNc(28,N,4,3,"div",9),o.qZA(),o.TgZ(29,"div",16)(30,"label",17),o._uU(31,"Email:"),o.qZA(),o._UZ(32,"input",18),o.YNc(33,b,2,0,"div",9),o.qZA(),o.TgZ(34,"div",2)(35,"label",19),o._uU(36,"Lota\xe7\xe3o"),o.qZA(),o.TgZ(37,"select",20)(38,"option",5),o._uU(39,"Selecione uma lota\xe7\xe3o"),o.qZA(),o.YNc(40,J,2,2,"option",6),o.qZA()(),o.YNc(41,h,2,1,"div",21),o.TgZ(42,"div",22)(43,"button",23),o._uU(44,"Salvar"),o.qZA(),o.TgZ(45,"button",24),o.NdJ("click",function(){return i.cadastroForm.reset()}),o._uU(46,"Cancelar"),o.qZA()()()()),2&s&&(o.xp6(),o.Q6J("formGroup",i.cadastroForm),o.xp6(7),o.Q6J("ngForOf",i.postos),o.xp6(5),o.Q6J("ngIf",i.cadastroForm.get("nome").errors&&i.cadastroForm.get("nome").touched),o.xp6(5),o.Q6J("ngIf",i.cadastroForm.get("rg").errors&&i.cadastroForm.get("rg").touched),o.xp6(5),o.Q6J("ngIf",i.cadastroForm.get("nf").errors&&i.cadastroForm.get("nf").touched),o.xp6(5),o.Q6J("ngIf",i.cadastroForm.get("celular").errors&&i.cadastroForm.get("celular").touched),o.xp6(5),o.Q6J("ngIf",null==i.cadastroForm.get("email").errors?null:i.cadastroForm.get("email").errors.email),o.xp6(7),o.Q6J("ngForOf",i.lotacoes),o.xp6(),o.Q6J("ngIf",i.errorMessage),o.xp6(2),o.Q6J("disabled",!i.cadastroForm.valid))},dependencies:[r.UX,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,d.ez,d.sg,d.O5,c.hO,_.yb]})}return e})()}}]);