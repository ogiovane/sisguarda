"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[741],{5741:(f,_,s)=>{s.r(_),s.d(_,{ListaMateriaisComponent:()=>Z});var n=s(7398),l=s(6814),r=s(95),t=s(9212),p=s(5835),d=s(5076),h=s(1615);function g(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.redirecionarParaCautelar())}),t._uU(1,"Cautelar"),t.qZA()}}function m(i,u){if(1&i){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.devolverMaterial(a))}),t._uU(1,"Devolver"),t.qZA()}}function v(i,u){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.YNc(8,g,2,0,"button",14)(9,m,2,0,"button",15),t.qZA()()),2&i){const e=u.$implicit;t.xp6(2),t.Oqu(e.tipo),t.xp6(2),t.Oqu(e.descricaoMaterial),t.xp6(2),t.Oqu(e.status),t.xp6(2),t.Q6J("ngIf","Dispon\xedvel"===e.status),t.xp6(),t.Q6J("ngIf","Dispon\xedvel"!==e.status)}}let Z=(()=>{class i{constructor(e,o,a){this.firestore=e,this.router=o,this.dialog=a,this.filtroStatus="todos",this.materiaisFiltrados=[]}ngOnInit(){this.materiais$=this.firestore.collection("materiais").valueChanges({idField:"id"}),this.cartoesDisponiveis=this.firestore.collection("materiais",e=>e.where("status","==","Dispon\xedvel").where("tipo","==","Cart\xe3o")).valueChanges().pipe((0,n.U)(e=>e.length)),this.cartoesCautelados=this.firestore.collection("materiais",e=>e.where("status","==","Cautelado").where("tipo","==","Cart\xe3o")).valueChanges().pipe((0,n.U)(e=>e.length)),this.chavesDisponiveis=this.firestore.collection("materiais",e=>e.where("status","==","Dispon\xedvel").where("tipo","==","Chave")).valueChanges().pipe((0,n.U)(e=>e.length)),this.chavesCauteladas=this.firestore.collection("materiais",e=>e.where("status","==","Cautelado").where("tipo","==","Chave")).valueChanges().pipe((0,n.U)(e=>e.length)),this.firestore.collection("materiais").valueChanges({idField:"id"}).subscribe(e=>{this.materiaisFiltrados=e,this.aplicarFiltro()})}aplicarFiltro(){this.materiais$="todos"===this.filtroStatus?this.firestore.collection("materiais").valueChanges({idField:"id"}):this.firestore.collection("materiais",e=>e.where("status","==",this.filtroStatus)).valueChanges({idField:"id"})}cadastrarMilitar(){}cadastrarMaterial(){}redirecionarParaCautelar(){this.router.navigate(["/cautelar-material"])}devolverMaterial(e){this.router.navigate(["/devolver-material"],{state:{material:e}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(p.ST),t.Y36(d.F0),t.Y36(h.uw))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista-materiais"]],standalone:!0,features:[t.jDz],decls:62,vars:26,consts:[[1,"container","mt-4"],[1,"col"],[1,"col-md-6"],[1,"d-flex","align-items-center","mb-0"],[1,"me-4"],[1,"d-flex","align-items-center","mb-3"],[1,"mb-3"],["for","filtroStatus",1,"form-label"],["id","filtroStatus",1,"form-select",3,"ngModel","ngModelChange"],["value","todos"],["value","Dispon\xedvel"],["value","Cautelado"],[1,"table"],[4,"ngFor","ngForOf"],["class","btn btn-success me-2",3,"click",4,"ngIf"],["class","btn btn-danger","class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4)(5,"strong"),t._uU(6,"Cart\xf5es Dispon\xedveis:"),t.qZA(),t._uU(7),t.ALo(8,"async"),t.qZA(),t.TgZ(9,"p",4)(10,"strong"),t._uU(11,"Cautelados:"),t.qZA(),t._uU(12),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"p")(15,"strong"),t._uU(16,"Total:"),t.qZA(),t._uU(17),t.ALo(18,"async"),t.ALo(19,"async"),t.qZA()()(),t.TgZ(20,"div",2)(21,"div",5)(22,"p",4)(23,"strong"),t._uU(24,"Chaves Dispon\xedveis:"),t.qZA(),t._uU(25),t.ALo(26,"async"),t.qZA(),t.TgZ(27,"p",4)(28,"strong"),t._uU(29,"Cauteladas:"),t.qZA(),t._uU(30),t.ALo(31,"async"),t.qZA(),t.TgZ(32,"p")(33,"strong"),t._uU(34,"Total:"),t.qZA(),t._uU(35),t.ALo(36,"async"),t.ALo(37,"async"),t.qZA()()()(),t.TgZ(38,"div",6)(39,"label",7),t._uU(40,"Filtrar por Status:"),t.qZA(),t.TgZ(41,"select",8),t.NdJ("ngModelChange",function(C){return a.filtroStatus=C})("ngModelChange",function(){return a.aplicarFiltro()}),t.TgZ(42,"option",9),t._uU(43,"Todos"),t.qZA(),t.TgZ(44,"option",10),t._uU(45,"Dispon\xedvel"),t.qZA(),t.TgZ(46,"option",11),t._uU(47,"Cautelado"),t.qZA()()(),t.TgZ(48,"table",12)(49,"thead")(50,"tr")(51,"th"),t._uU(52,"Tipo"),t.qZA(),t.TgZ(53,"th"),t._uU(54,"Descri\xe7\xe3o"),t.qZA(),t.TgZ(55,"th"),t._uU(56,"Status"),t.qZA(),t.TgZ(57,"th"),t._uU(58,"A\xe7\xe3o"),t.qZA()()(),t.TgZ(59,"tbody"),t.YNc(60,v,10,5,"tr",13),t.ALo(61,"async"),t.qZA()()()),2&o&&(t.xp6(7),t.hij(" ",t.lcZ(8,8,a.cartoesDisponiveis),""),t.xp6(5),t.hij(" ",t.lcZ(13,10,a.cartoesCautelados),""),t.xp6(5),t.hij(" ",t.lcZ(18,12,a.cartoesDisponiveis)+t.lcZ(19,14,a.cartoesCautelados),""),t.xp6(8),t.hij(" ",t.lcZ(26,16,a.chavesDisponiveis),""),t.xp6(5),t.hij(" ",t.lcZ(31,18,a.chavesCauteladas),""),t.xp6(5),t.hij(" ",t.lcZ(36,20,a.chavesDisponiveis)+t.lcZ(37,22,a.chavesCauteladas),""),t.xp6(6),t.Q6J("ngModel",a.filtroStatus),t.xp6(19),t.Q6J("ngForOf",t.lcZ(61,24,a.materiais$)))},dependencies:[l.ez,l.sg,l.O5,l.Ov,r.u5,r.YN,r.Kr,r.EJ,r.JJ,r.On]})}return i})()}}]);